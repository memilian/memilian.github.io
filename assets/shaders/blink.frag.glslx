#ifdef GL_ES
precision mediump float;
#endif

uniform sampler2D tex0;
uniform float ratio;
uniform vec4 blinkColor;
varying vec2 tcoord;
varying vec4 color;

void main() {
    vec4 texcolor = texture2D(tex0, tcoord);
    vec4 finalColor;
    if(ratio > 0.0 && texcolor.a > 0.0){
      finalColor = mix(texcolor, blinkColor, ratio);
      finalColor.a = texcolor.a;
    }else{
      finalColor = color * texcolor;
    }
    gl_FragColor = finalColor;
}
